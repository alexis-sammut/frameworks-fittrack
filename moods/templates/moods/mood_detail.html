{% extends "base.html" %} {% block main %}

<div class="detail-actions">
  <a href="{% url 'moods-list' %}" class="small-button secondary-button"
    >&#x2190; Back to Moods
  </a>
</div>
<section class="section">
  <div class="container">
    <div class="detail-item">
      <div class="list-item-header">
        <span class="list-item-name">Mood: {{ mood.mood }}/10</span>
        <span class="list-item-date">{{ mood.date }}</span>

        <div class="actions">
          <img
            src="/static/images/edit.png"
            alt="Edit information Icon"
            class="editBtn"
            data-mood-value="{{ mood.mood }}"
            data-mood-notes="{{ mood.notes|default:'' }}"
            data-update-url="{% url 'mood-update' mood.pk %}"
          />
          <img
            src="/static/images/delete.png"
            alt="Delete Mood Icon"
            class="deleteBtn"
            data-mood-id="{{ mood.pk }}"
            data-mood-name="Mood {{ mood.mood }}"
          />
        </div>
      </div>
      <div class="mood-display">
        <div class="mood-bar-container">
          <div class="mood-bar" style="width: {{ mood.mood }}0%;">
            <span class="mood-value">{{ mood.mood }}</span>
          </div>
        </div>
      </div>
      {% if mood.notes %}
      <div class="detail-section">
        <h3>Notes</h3>
        <div class="notes-content">
          <p>{{ mood.notes }}</p>
        </div>
      </div>
      {% else %}
      <div class="detail-section">
        <p class="no-data">No notes recorded for this entry.</p>
      </div>
      {% endif %}
    </div>
  </div>
</section>
<div class="detail-navigation">
  {% if previous_mood %}
  <a href="{% url 'mood-detail' previous_mood.pk %}"> &lt; </a>
  {% else %}
  <span class="disabled">&lt;</span>
  {% endif %}

  <a href="{% url 'log-mood'%}">
    <img src="/static/images/add.png" alt="Add icon" />
  </a>

  {% if next_mood %}
  <a href="{% url 'mood-detail' next_mood.pk %}" class="nav-arrow"> &gt; </a>
  {% else %}
  <span class="nav-arrow disabled">&gt;</span>
  {% endif %}
</div>
<div id="deleteItem-{{ mood.pk }}" class="popup-form" style="display: none">
  <div class="form-content">
    <span class="close-button">&times;</span>
    <h3>Delete Mood</h3>
    <p>Are you sure you want to delete the mood entry for {{ mood.date }}?</p>
    <form
      method="POST"
      action="{% url 'mood-delete' mood.pk %}"
      style="display: inline"
    >
      {% csrf_token %}
      <button type="submit" class="button delete-button">Delete Mood</button>
    </form>
  </div>
</div>

{% endblock %}
